import{openBlock as e,createElementBlock as t,createElementVNode as a,withDirectives as r,vModelText as s,Fragment as o,renderList as n,resolveComponent as i,createVNode as l}from"vue";var d={data:()=>({input:"",inputSuggestion:[],addressDetails:"",coordinates:{x:"1.909035",y:"47.899102"},mapsUrl:""}),methods:{async fetchAdress(){try{this.addressDetails=await async function(e,t=5){try{const a=await fetch(`https://api-adresse.data.gouv.fr/search/?q=${e}&limit=${t}`);if(!a.ok)throw new Error("Network response was not ok");return(await a.json()).features}catch(e){throw console.error("Error fetching data:",e),e}}(this.input)}catch(e){throw console.error("Error with fetchAddressSuggestions:",e),e}},selectLocation(){let e=this.addressDetails.find((e=>e.properties.label===this.input));if(e){const t={x:e.geometry.coordinates[0].toString(),y:e.geometry.coordinates[1].toString()};this.$emit("updatedCoordinates",t)}}}};const c={class:"navbar navbar-expand-lg bg-body-tertiary"},p={class:"container-fluid"},u={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={class:"d-flex",role:"search"},m={id:"datalistStack"},b=["value"];d.render=function(i,l,d,f,g,v){return e(),t("div",null,[a("nav",c,[a("div",p,[l[3]||(l[3]=a("a",{class:"navbar-brand",href:"#"},"Navbar",-1)),l[4]||(l[4]=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),a("div",u,[a("form",h,[r(a("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>g.input=e),onInput:l[1]||(l[1]=(...e)=>v.fetchAdress&&v.fetchAdress(...e)),list:"datalistStack",class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"},null,544),[[s,g.input]]),a("button",{onClick:l[2]||(l[2]=(...e)=>v.selectLocation&&v.selectLocation(...e)),class:"btn btn-outline-success",type:"button"}," Search ")])])])]),a("datalist",m,[(e(!0),t(o,null,n(g.addressDetails,((a,r)=>(e(),t("option",{key:r,value:a.properties.label},null,8,b)))),128))])])},d.__file="src/components/adressSearcher.vue";var f={props:{mapsUrl:String}};const g=["src"];f.render=function(a,r,s,o,n,i){return e(),t("iframe",{title:"mapView",width:"900",height:"500",style:{border:"0"},referrerpolicy:"no-referrer-when-downgrade",src:this.mapsUrl,allowfullscreen:""},null,8,g)},f.__file="src/components/embedMaps.vue";var v={components:{AdressSearcher:d,EmbedMaps:f},data:()=>({coordinates:{x:"1.909035",y:"47.899102"},mapsUrl:""}),methods:{updateCoordinates(e){this.coordinates=e,this.updateMapView()},updateMapView(){this.mapsUrl=function(e,t=18){return`https://www.google.com/maps/embed/v1/view?key=AIzaSyDQU-TgI_IbQOtsXCq8ydVT98FChLwXrpg&center=${e.y},${e.x}&zoom=${t}`}(this.coordinates)},unusedFunctionMV:()=>"Hello itp4!"},mounted(){this.updateMapView()}};v.render=function(a,r,s,o,n,d){const c=i("AdressSearcher"),p=i("EmbedMaps");return e(),t("div",null,[l(c,{onUpdatedCoordinates:d.updateCoordinates},null,8,["onUpdatedCoordinates"]),l(p,{mapsUrl:n.mapsUrl},null,8,["mapsUrl"])])},v.__file="src/views/MyView.vue";export{v as default};
