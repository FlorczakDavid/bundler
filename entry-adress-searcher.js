import{openBlock as t,createElementBlock as a,createElementVNode as e,withDirectives as r,vModelText as s,Fragment as o,renderList as n}from"vue";var l={data:()=>({input:"",inputSuggestion:[],addressDetails:"",coordinates:{x:"1.909035",y:"47.899102"},mapsUrl:""}),methods:{async fetchAdress(){try{this.addressDetails=await async function(t,a=5){try{const e=await fetch(`https://api-adresse.data.gouv.fr/search/?q=${t}&limit=${a}`);if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).features}catch(t){throw console.error("Error fetching data:",t),t}}(this.input)}catch(t){throw console.error("Error with fetchAddressSuggestions:",t),t}},selectLocation(){let t=this.addressDetails.find((t=>t.properties.label===this.input));if(t){const a={x:t.geometry.coordinates[0].toString(),y:t.geometry.coordinates[1].toString()};this.$emit("updatedCoordinates",a)}}}};const i={class:"navbar navbar-expand-lg bg-body-tertiary"},c={class:"container-fluid"},d={class:"collapse navbar-collapse",id:"navbarSupportedContent"},p={class:"d-flex",role:"search"},u={id:"datalistStack"},h=["value"];l.render=function(l,b,f,g,v,y){return t(),a("div",null,[e("nav",i,[e("div",c,[b[3]||(b[3]=e("a",{class:"navbar-brand",href:"#"},"Navbar",-1)),b[4]||(b[4]=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1)),e("div",d,[e("form",p,[r(e("input",{"onUpdate:modelValue":b[0]||(b[0]=t=>v.input=t),onInput:b[1]||(b[1]=(...t)=>y.fetchAdress&&y.fetchAdress(...t)),list:"datalistStack",class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"},null,544),[[s,v.input]]),e("button",{onClick:b[2]||(b[2]=(...t)=>y.selectLocation&&y.selectLocation(...t)),class:"btn btn-outline-success",type:"button"}," Search ")])])])]),e("datalist",u,[(t(!0),a(o,null,n(v.addressDetails,((e,r)=>(t(),a("option",{key:r,value:e.properties.label},null,8,h)))),128))])])},l.__file="src/components/adressSearcher.vue";export{l as default};
